<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>commit-editor.json ダウンロード</title>
      <style>
    /*--- デフォルト ---*/
    body {
      font-family: sans-serif; 
      margin: 40px;
      background-color: #fff;
      color: #333;
    }
    #status {
      font-size: 1.2rem;        
      font-weight: bold;        
      color: #333;              
    }
    .success {
      color: green; 
    }
    .error {
      color: red;    
    }

    /*--- ダークモード ---*/
    @media (prefers-color-scheme: dark) {
      body {
        background-color: #222
        color: #ddd;
      }
      #status {
        color: #ddd;
      }
      .success {
        color: #8f8;
      }
      .error {
        color: #f88;
      }
    }
  </style>
  </head>
  <body>
    <p id="status">ダウンロードを開始します...</p>

    <script>
      const fileUrl = "https://commit-editor.vercel.app/commit-editor.json";

      const statusElement = document.getElementById("status");

      fetch(fileUrl)
        .then((response) => {
          if (!response.ok) {
            throw new Error(`ファイルの取得に失敗しました (HTTP ${response.status})`);
          }
          return response.blob();
        })
        .then((blob) => {
          const blobUrl = URL.createObjectURL(blob);

          const link = document.createElement("a");
          link.href = blobUrl;
          link.download = "commit-editor.json";
          link.click();

          statusElement.textContent = "ダウンロードが完了しました。";

          URL.revokeObjectURL(blobUrl);
        })
        .catch((error) => {
          statusElement.textContent = `ダウンロードに失敗しました: ${error.message}`;
        });
    </script>
  </body>
</html>
